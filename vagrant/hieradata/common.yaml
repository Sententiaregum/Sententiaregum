# basic apt packages for the machine
sententiaregum::installs::packages:
  - vim
  - git
  - build-essential
  - bash-completion
  - software-properties-common
  - python-software-properties
  - libsqlite3-dev
  - curl

# ssh entry point
sententiaregum::ssh::entry_point: /var/www/sententiaregum

# composer config
composer::command_name: composer
composer::target_dir: '/usr/local/bin'

# php extensions
php::service: apache

sententiaregum::backend::php::extensions:
  gd:     {}
  cli:    {}
  mysql:  {}
  curl:   {}
  intl:   {}
  mcrypt: {}
  xdebug: {}
  apc:
    module_prefix: 'php-'

# apache config
sententiaregum::backend::server::server_aliases: '192.168.66.211'
sententiaregum::backend::server::modules:
  rewrite: {}

# mysql configurations
sententiaregum::infrastructure::mysql::databases:
  sententiaregum:
    user: dev
    password: dev
    host: localhost
    grant: ['ALL']
  behat:
    user: dev
    password: dev
    host: localhost
    grant: ['ALL']

# redis instances
sententiaregum::infrastructure::redis::instances:
  doctrine-cache:
    redis_port: 6900
  social-post-queue:
    redis_port: 6901
  dashboard-cache:
    redis_port: 6902
  pending-activations:
    redis_port: 6903
  online-users:
    redis_port: 6904

# cronjobs
sententiaregum::infrastructure::jobs::schedules:
  cleanup_sessions:
    command: "php /var/www/sententiaregum/app/console ma27:auth:session-cleanup"
    user: vagrant
    hour: 5
  cleanup_registrations:
    command: "php /var/www/sententiaregum/app/console sententiaregum:purge:pending-activations"
    user: vagrant
    hour: 5

# mailcatcher
sententiaregum::infrastructure::mailcatcher::dest_ip: '0.0.0.0'

# frontend config (nodejs + npm packages)
nodejs::version: 'stable'
nodejs::make_install: false

sententiaregum::frontend::npm::packages:
  - mocha
  - webpack
  - webpack-core
  - node-gyp
  - eslint
  - eslint-plugin-react
  - less

# timezone
timezone::timezone: 'UTC'
